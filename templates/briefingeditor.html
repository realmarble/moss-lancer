<div style="width: 100%;height: 100%;">
  <div
  style="
    width: 50%;
    position: absolute;
    left: 0;
    overflow-y: scroll;
    height: 100%;
  "
>
  <h3>Intro Options:</h3>
  <select id="introtype">
    <option value="none">None</option>
    <option value="loadscreen">Loading Screen</option>
    <option value="logo">Logo</option>
    <option value="brigador">Brigador</option>
  </select>
  <h3>Briefing Options:</h3>
  <select id="briefingtype">
    <option value="classic">Classic</option>
    <option value="corporate">Corporate</option>
  </select>
  <h3>Intro Data:</h3>
  <div id="introoptions"></div>
  <h3>Briefing Data:</h3>
  <div id="briefingoptions">
    <input type="text" name="ClientName" placeholder="Name of the Client" />
    <input type="text" name="ClientLogo" placeholder="Logo of the Client" />
    <textarea
      name="ClientDescription"
      placeholder="Description of the Client"
      style="width: 100%; height: 150px"
    ></textarea>
    <textarea
      name="MissionDescription"
      placeholder="Description of the Mission"
      style="width: 100%; height: 150px"
    ></textarea>
    <textarea
      name="AdditionalDescription"
      placeholder="Complementary Mission Info"
      style="width: 100%; height: 150px"
    ></textarea>
    <textarea
      name="PaymentInfo"
      placeholder="Payment Information"
      style="width: 100%; height: 150px"
    ></textarea>
    <textarea
      name="AdditionalPaymentInfo"
      placeholder="Additional Payment Information"
      style="width: 100%; height: 150px"
    ></textarea>
    <input
      type="text"
      name="PaymentFlavour"
      placeholder="Payment Flavour Text"
    />
    <textarea
      name="DeployedForces"
      placeholder='Deployed Forces (Defined As Array)'
      style="width: 100%; height: 150px"
    ></textarea>
    <textarea
      name="Objectives"
      placeholder="Mission Objectives (Defined As Array)"
      style="width: 100%; height: 150px"
    ></textarea>
    <textarea
      name="Notes"
      placeholder="Mission Notes (Defined As Array)"
      style="width: 100%; height: 150px"
    ></textarea>
    Background Color:<input
      type="color"
      name="BackgroundColor"
      value="#0c0c1d"
    /><br />
    Background Accent:<input
      type="color"
      name="BackgroundAccent"
      value="#1E1E48"
    /><br />
    Text Color:<input type="color" name="TextColor" value="#FFFFFF" /><br />
    Border Color:<input type="color" name="BorderColor" value="#C0C0C0" />
  </div>
  <button id="briefgenbutton" style="width: 100%">Generate Brief</button>
</div>
<div style="width: 50%; position: absolute; right: 0; height: 100%">
  <textarea
    id="brieftextdisplay"
    style="width: 100%; height: 94%; resize: none"
    placeholder="This is where the code for your briefing will show."
  >
</textarea
  >
  <button
    style="width: 50%; height: 5%"
    onclick="navigator.clipboard.writeText(document.getElementById('brieftextdisplay').value);"
  >
    Copy</button
  ><button
    style="width: 50%; height: 5%"
    onclick="Briefing(JSON.parse(document.getElementById('brieftextdisplay').value))"
  >
    Preview
  </button>
</div>
<script>

  briefobject = {};
  document.getElementById("introtype").addEventListener("change", function () {
    introptions = document.getElementById("introoptions");
    options={
      "none":"",
      "logo":'<input type="text" placeholder="A Path to your logo." name="LogoPath">',
      "loadscreen":'<input type="text" name="LoadScreenTitle" placeholder="A Title for the loadscreen."><textarea name="LoadScreenFluff"cols="30" rows="10" placeholder="The fluff that shows during the animation. Defined as an Array."></textarea>',
      "brigador":'<input type="text" name="LogoPath" placeholder="Logo Path" /><textarea name="Paragraph1" placeholder="Contract Paragraph 1" style="width: 100%; height: 150px"></textarea><textarea name="Paragraph2" placeholder="Contract Paragraph 2" style="width: 100%; height: 150px"></textarea><textarea name="Paragraph3" placeholder="Contract Paragraph 3" style="width: 100%; height: 150px"></textarea><textarea name="Paragraph4" placeholder="Contract Paragraph 4" style="width: 100%; height: 150px"></textarea><textarea name="Paragraph5" placeholder="Contract Paragraph 5" style="width: 100%; height: 150px"></textarea>'
    }
    try {
      introoptions.innerHTML = options[this.value]  
    } catch (error) {
      introptions.innerHTML = "";
    }
  });
  document.getElementById("briefgenbutton").onclick = function () {
    //build a list of the inputs and sort them into the object
    briefingoptions = Array.prototype.slice
      .call(
        document.getElementById("briefingoptions").getElementsByTagName("input")
      )
      .concat(
        Array.prototype.slice.call(
          document
            .getElementById("briefingoptions")
            .getElementsByTagName("textarea")
        )
      );
    briefingoptions.forEach((element) => {
      try {
        briefobject[element.name] = JSON.parse(element.value);
      } catch (error) {
        briefobject[element.name] = element.value;
      }
    });
    briefobject.LayoutType = document.getElementById("briefingtype").value
    if (document.getElementById("introtype").value != "none") {
      briefobject.intro = true;
      briefobject.IntroData = {};
      briefobject["IntroData"].type =
        document.getElementById("introtype").value;
      introoptions = Array.prototype.slice
        .call(
          document.getElementById("introoptions").getElementsByTagName("input")
        )
        .concat(
          Array.prototype.slice.call(
            document
              .getElementById("introoptions")
              .getElementsByTagName("textarea")
          )
        );
      introoptions.forEach((element) => {
        try {
          briefobject["IntroData"][element.name] = JSON.parse(element.value);
        } catch (error) {
          briefobject["IntroData"][element.name] = element.value;
        }
      });
    }
    document.getElementById("brieftextdisplay").value = JSON.stringify(
      briefobject,
      null,
      3
    );
  };
</script>

</div>
